<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>GAS CORS 測試</title>
</head>
<body>
  <button onclick="getData()">讀取資料</button>
  <button onclick="postData()">送出資料</button>

  <script>
    const API_URL = "https://script.google.com/macros/s/AKfycbw63c4akixbo2-yIRwgNGpOHjxSna_jg298B-n6ypNH3Nmc1xONQXc820Emsa5H0mto_Q/exec";

    async function getData() {
      try {
        let res = await fetch(API_URL, { method: "GET" });
        let json = await res.json();
        console.log("GET 成功：", json);
      } catch (err) {
        console.error("GET 錯誤：", err);
      }
    }

    async function postData() {
      try {
        let res = await fetch(API_URL, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(["測試1", "測試2", new Date()])
        });
        let json = await res.json();
        console.log("POST 成功：", json);
      } catch (err) {
        console.error("POST 錯誤：", err);
      }
    }
  </script>
</body>
</html>
